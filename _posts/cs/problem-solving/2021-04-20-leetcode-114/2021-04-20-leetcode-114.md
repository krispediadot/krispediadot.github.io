---
layout: post
title: LeetCode 114. Flatten Binary Tree to Linked List
date: 2021-04-20 11:00:00 +09:00
modified: 
category: problem solving
tags: [ps, c++, dfs]
image: "/assets/img/avatar_code.png"
cover: "../puzzle.jpg"
---

### ë¬¸ì œ ë§í¬
[https://leetcode.com/problems/flatten-binary-tree-to-linked-list/](https://leetcode.com/problems/flatten-binary-tree-to-linked-list/)

### ë‚˜ì˜ ìƒê°ì˜ íë¦„
ğŸ’¡ [1ì°¨ ì‹œë„ - ì„±ê³µ]<br> 
    ì„±ê³µí–ˆìœ¼ë‚˜<br> 
    ì´ˆê¸°ì— ë¬¸ì œ ìš”êµ¬ì‚¬í•­ì„ ì˜ëª» íŒŒì•…í•´ ë¬¸ì œ í’€ì´ì— ì˜¤ëœ ì‹œê°„ì´ ì†Œìš”ë¨.<br>
    2:30:00<br>

****ë¬¸ì œ ì œëŒ€ë¡œ ì½ê¸°!!!**

### ë¬¸ì œì˜ ì£¼ìš” ë‚´ìš© ë° ì²˜ë¦¬ ë°©ì•ˆ
1. íŠ¸ë¦¬ì˜ ë…¸ë“œë¥¼ preordered traversal ìˆœì„œëŒ€ë¡œ rootì˜ ì˜¤ë¥¸ìª½ì— ë°°ì¹˜ â†’ dfs<br>
<br>
ë¬¸ì œì—ì„œ ì œì‹œí•œ ì˜ˆì‹œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.<br>
<br>
<mark>Example 1:</mark>
![](https://assets.leetcode.com/uploads/2021/01/14/flaten.jpg)
<mark>Input: root = [1,2,5,3,4,null,6]<br>
Output: [1,null,2,null,3,null,4,null,5,null,6]</mark>

### ì½”ë“œ êµ¬í˜„ 
1. **dfs**<br>
    rootì—ì„œ ì‹œì‘í•´ì„œ ê°€ì¥ ì‘ì€ ë‹¨ìœ„ì¸ leafë…¸ë“œ ê¹Œì§€ ì´ë™í•´ì„œ í•˜ë‚˜ì”© ë¬¸ì œë¥¼ í•´ê²°í•´ë‚˜ê°€ì•¼ í•˜ë¯€ë¡œ recursive ë°©ì‹ìœ¼ë¡œ dfsë¥¼ í•œë‹¤.<br>
    êµ¬ìƒí•œ pseudocode<br>
    ```cpp
    /**
    void flatten(TreeNode* root){
        ì¢…ë£Œì¡°ê±´: leaf ë…¸ë“œì´ê±°ë‚˜ root=nullptrì´ë©´ return;
        
        1. ì™¼ìª½ childë¶€í„° ì •ë¦¬
        2. ì˜¤ë¥¸ìª½ child ì •ë¦¬
        3. ì™¼ìª½ childë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì˜®ê¸°ê¸°
    }
    **/
    ```
    pseudocode ëŒ€ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ì„œ í•„ìš”í•œê²Œ ë¬´ì—‡ì¸ì§€ í™•ì¸í•œë‹¤.<br>
    1. ì™¼ìª½ childë¶€í„° ì •ë¦¬ â†’ `flatten(root->left)`
    2. ì˜¤ë¥¸ìª½ child ì •ë¦¬ â†’ `flatten(root->right)`
    3. ì™¼ìª½ childë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì˜®ê¸°ê¸°<br>
        ì™¼ìª½ childëŠ” ì •ë¦¬ê°€ ëª¨ë‘ ëœ ìƒíƒœì´ë¯€ë¡œ ì˜¤ë¥¸ìª½ childë“¤ë§Œ ê°€ì§„ íŠ¸ë¦¬ì˜ ëª¨ì–‘ì´ë‹¤.<br>
        ![flatten 1](https://github.com/krispediadot/krispediadot.github.io/blob/master/_posts/cs/problem-solving/2021-04-20-leetcode-114/flatten_1.jpeg?raw=true)<br>
        ì™¼ìª½ childë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì˜®ê¸°ëŠ” ì‘ì—…ì€ 3 ë‹¨ê³„ê°€ í•„ìš”í•˜ë‹¤.<br>
        (1) ì™¼ìª½ childì˜ leaf ë…¸ë“œì— rootì˜ ì˜¤ë¥¸ìª½ child ë¶™ì´ê¸°<br>
        ![flatten 2](https://github.com/krispediadot/krispediadot.github.io/blob/master/_posts/cs/problem-solving/2021-04-20-leetcode-114/flatten_2.jpeg?raw=true)<br>
        (2) ì™¼ìª½ childë¥¼ rootì˜ ì˜¤ë¥¸ìª½ childë¡œ ì˜®ê¸°ê¸°<br>
        ![flatten 3](https://github.com/krispediadot/krispediadot.github.io/blob/master/_posts/cs/problem-solving/2021-04-20-leetcode-114/flatten_3.jpeg?raw=true)<br>
        (3) rootì˜ ì™¼ìª½ childëŠ” `nullptr`<br>
        ![flatten 4](https://github.com/krispediadot/krispediadot.github.io/blob/master/_posts/cs/problem-solving/2021-04-20-leetcode-114/flatten_4.jpeg?raw=true)<br>
        <br>
        ì´ëŸ¬í•œ ë‹¨ê³„ë¥¼ ì§„í–‰í•˜ê¸° ìœ„í•´ì„œ ì™¼ìª½ childì˜ leaf ë…¸ë“œë¥¼ ì°¾ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë‹¤.<br>
        ì´ë¥¼ ìœ„í•´ `TreeNode* findLeftLeap(TreeNode* leftNode)` í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆë‹¤.<br>
        ```cpp
        TreeNode* findLeftLeap(TreeNode* leftNode) {

            // ë¦¬í”„ ë…¸ë“œê¹Œì§€ ì´ë™
            while (leftNode->right != nullptr) {
                leftNode = leftNode->right;
            }
            return leftNode;
        }
        ```

    ìµœì¢… `flatten` í•¨ìˆ˜ ì½”ë“œ<br>
    ```cpp
    void flatten(TreeNode* root) {
        
        // ì¢…ë£Œì¡°ê±´: leaf ë…¸ë“œì´ê±°ë‚˜ root=nullptrì´ë©´ return;
        if (root == nullptr || (root->left == nullptr && root->right == nullptr)) {
            return;
        }
        
        // 1. ì™¼ìª½ childë¶€í„° ì •ë¦¬
        if (root->left != nullptr) flatten(root->left);
        
        // 2. ì˜¤ë¥¸ìª½ child ì •ë¦¬
        if (root->right != nullptr) flatten(root->right);

        // 3. ì™¼ìª½ childë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì˜®ê¸°ê¸°
        if (root->left != nullptr) {
            
            // (1) ì™¼ìª½ childì˜ leaf ë…¸ë“œì— rootì˜ ì˜¤ë¥¸ìª½ child ë¶™ì´ê¸°
            findLeftLeap(root->left)->right = root->right;
            
            // (2) ì™¼ìª½ childë¥¼ rootì˜ ì˜¤ë¥¸ìª½ childë¡œ ì˜®ê¸°ê¸°
            root->right = root->left;
            
            // (3) rootì˜ ì™¼ìª½ child `nullptr`
            root->left = nullptr;
        }
    }
    ```

### ì „ì²´ ì½”ë“œ
```c++
#include <iostream>
#include <vector>

using namespace std;

struct TreeNode {
    int val;
    TreeNode *left;
    TreeNode *right;
    TreeNode() : val(0), left(nullptr), right(nullptr) {}
    TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
    TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
};
 
class Solution {
public:
    TreeNode* findLeftLeap(TreeNode* leftNode) {

        // ë¦¬í”„ ë…¸ë“œê¹Œì§€ ì´ë™
        while (leftNode->right != nullptr) {
            leftNode = leftNode->right;
        }
        return leftNode;
    }
    void flatten(TreeNode* root) {
        
        // ì¢…ë£Œì¡°ê±´: leaf ë…¸ë“œì´ê±°ë‚˜ root=nullptrì´ë©´ return;
        if (root == nullptr || (root->left == nullptr && root->right == nullptr)) {
            return;
        }
        
        // 1. ì™¼ìª½ childë¶€í„° ì •ë¦¬
        if (root->left != nullptr) flatten(root->left);
        
        // 2. ì˜¤ë¥¸ìª½ child ì •ë¦¬
        if (root->right != nullptr) flatten(root->right);

        // 3. ì™¼ìª½ childë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì˜®ê¸°ê¸°
        if (root->left != nullptr) {
            
            // (1) ì™¼ìª½ childì˜ leaf ë…¸ë“œì— rootì˜ ì˜¤ë¥¸ìª½ child ë¶™ì´ê¸°
            findLeftLeap(root->left)->right = root->right;
            
            // (2) ì™¼ìª½ childë¥¼ rootì˜ ì˜¤ë¥¸ìª½ childë¡œ ì˜®ê¸°ê¸°
            root->right = root->left;
            
            // (3) rootì˜ ì™¼ìª½ child `nullptr`
            root->left = nullptr;
        }
    }
};

int main() {
    
    TreeNode* root = new TreeNode(1);
    root->left = new TreeNode(2);
    root->left->left = new TreeNode(3);
    root->left->right = new TreeNode(4);
    root->right = new TreeNode(5);
    root->right->right = new TreeNode(6);
    
    Solution sol;
    sol.flatten(root);
}
```
