---
layout: post
title: LeetCode 378. Kth Smallest Element in a Sorted Matrix
date: 2021-07-08 11:00:00 +09:00
modified: 
category: problem solving
tags: [ps, c++, binary_search]
image: "/assets/img/avatar_code.png"
cover: "../puzzle.jpg"
---

**Index**
1. [ë¬¸ì œ ë§í¬](#ë¬¸ì œ-ë§í¬)
1. [ë‚˜ì˜ ìƒê°ì˜ íë¦„](#ë‚˜ì˜-ìƒê°ì˜-íë¦„)
1. [ë¬¸ì œì˜ ì£¼ìš” ë‚´ìš© ë° ì²˜ë¦¬ ë°©ì•ˆ](#ë¬¸ì œì˜-ì£¼ìš”-ë‚´ìš©-ë°-ì²˜ë¦¬-ë°©ì•ˆ)
1. [ì½”ë“œ êµ¬í˜„](#ì½”ë“œ-êµ¬í˜„)
1. [ì „ì²´ ì½”ë“œ](#ì „ì²´-ì½”ë“œ)

### ë¬¸ì œ ë§í¬
[https://leetcode.com/problems/kth-smallest-element-in-a-sorted-matrix/](https://leetcode.com/problems/kth-smallest-element-in-a-sorted-matrix/)

### ë‚˜ì˜ ìƒê°ì˜ íë¦„
ğŸ’¡ [1ì°¨ ì‹œë„ - ì„±ê³µ]<br> 
    multiset ì‚¬ìš©<br>
<br>
ğŸ’¡ [2ì°¨ ì‹œë„ - ì„±ê³µ]<br> 
    vector & sort() ì‚¬ìš©<br>
<br>
ğŸ’¡ [3ì°¨ ì‹œë„ - ì„±ê³µ]<br> 
    max heap ì‚¬ìš©<br>
<br>
ğŸ’¡ [4ì°¨ ì‹œë„ - ì„±ê³µ]<br> 
    binary search ì‚¬ìš©<br>
<br>

****ìƒê°í•˜ê¸°!!!**

### ë¬¸ì œì˜ ì£¼ìš” ë‚´ìš© ë° ì²˜ë¦¬ ë°©ì•ˆ
1. 2ì°¨ì› ë°°ì—´ì— ë“¤ì–´ìˆëŠ” ìˆ˜ ëŒ€ì†Œ ë¹„êµí•˜ê¸°<br>
 â†’ multiset(1ì°¨)/ sort(2ì°¨)/ max heap(3ì°¨)/ ë¹„êµ í•¨ìˆ˜ ì„ ì–¸(4ì°¨)<br>
1. ì´ë¯¸ ì •ë ¬ë˜ì–´ ìˆëŠ” ìë£Œë¥¼ í™œìš©í•˜ê¸°<br>
 â†’ í™œìš©í•˜ì§€ ì•ŠìŒ(1, 2, 3ì°¨)/ ë¹„êµ í•¨ìˆ˜ì—ì„œ í™œìš©(4ì°¨)<br>
<br>
ë¬¸ì œì—ì„œ ì œì‹œí•œ ì˜ˆì‹œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.<br>
<br>
<mark>Input: matrix = [[1,5,9],[10,11,13],[12,13,15]], k = 8<br>
Output: 13<br>
Explanation: The elements in the matrix are [1,5,9,10,11,12,13,13,15], and the 8th smallest number is 13</mark>

### ì½”ë“œ êµ¬í˜„ 
1. **multiset ì‚¬ìš©**<br>
    <br>
    C++ STLì— ì •ì˜ë˜ì–´ ìˆëŠ” SETì´ ì›ì†Œë¥¼ ì •ë ¬í•´ì„œ ì €ì¥í•˜ëŠ” êµ¬ì¡°ë¥¼ í™œìš©<br>
    <br>
    ```c++
    class Solution1 {
    public:
        int kthSmallest(vector<vector<int>>& matrix, int k) {
            multiset<int> temp;
            
            for (int r = 0; r < matrix.size(); r++) {
                for (int c = 0; c < matrix[0].size(); c++) {
                    temp.insert(matrix[r][c]);
                }
            }
            
            auto itr = temp.begin();
            
            advance(itr, k - 1);
            
            return *itr;
        }
    };
    ```

1. **sort ì‚¬ìš©**<br>
    <br>
    matrixì— ë“¤ì–´ìˆëŠ” ì „ì²´ ì›ì†Œë¥¼ 1ì°¨ì› ë²¡í„°ë¡œ ì´ë™ì‹œí‚¤ê³  sort<br>
    <br>
    ```c++
    class Solution2 {
    public:
        int kthSmallest(vector<vector<int>>& matrix, int k) {
            vector<int> total;

            for (int r = 0; r < matrix.size(); r++) {
                for (int c = 0; c < matrix[0].size(); c++) {
                    total.push_back(matrix[r][c]);
                }
            }

            sort(total.begin(), total.end());

            return total[k - 1];
        }
    };
    ```    

1. **max heap ì‚¬ìš©**<br>
    <br>
    ë“¤ì–´ìˆëŠ” ê°’ ì¤‘ ê°€ì¥ í° ê°’ì´ topì— ìœ„ì¹˜í•˜ëŠ” ìë£Œêµ¬ì¡°ë¥¼ í™œìš©<br>
    ì—¬ê¸°ì„œ ì£¼ì˜í•  ì ì€ ì „ì²´ heapì˜ í¬ê¸°ê°€ kê°€ ë˜ë„ë¡ ìœ ì§€í•´ì•¼í•˜ë¯€ë¡œ heap.size() > k ì´ë©´ popì„ í•´ì¤˜ì•¼ í•œë‹¤.<br>
    <br>
    ```c++
    class Solution3 {
    public:
        int kthSmallest(vector<vector<int>>& matrix, int k) {
            priority_queue<int> pq;

            for (int r = 0; r < matrix.size(); r++) {
                for (int c = 0; c < matrix[0].size(); c++) {
                    pq.push(matrix[r][c]);

                    if (pq.size() > k) pq.pop();
                }
            }

            return pq.top();
        }
    };
    ```

1. **binary search**<br>
    <br>
    2ì°¨ì› ë°°ì—´ë¡œ ë“¤ì–´ìˆëŠ” ì›ì†Œë“¤ì˜ ê°’ì„ ì¤‘ì‹¬ìœ¼ë¡œ binary search í•˜ëŠ” ë°©ë²•<br>
    <br>
    ```c++
    class Solution4 {
    public:
        int kthSmallest(vector<vector<int>>& matrix, int k) {
            int m = matrix.size();
            int n = matrix[0].size();

            int left = matrix[0][0];
            int right = matrix[m - 1][n - 1];
            int answer = -1;

            while (left <= right) {
                int mid = (left + right) / 2;
                if (countLessOrEqual(matrix, mid) >= k) {
                    answer = mid;
                    right = mid - 1;
                }
                else left = mid + 1;
            }

            return answer;
        }

        // xë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ìˆ˜ì˜ ê°œìˆ˜ ì„¸ê¸°
        int countLessOrEqual(vector<vector<int>>& matrix, int x) {
            int cnt = 0;
            int c = matrix[0].size() - 1;

            for (int r = 0; r < matrix.size(); r++) {
                while (c >= 0 && matrix[r][c] > x) --c;
                cnt += (c + 1);
            }

            return cnt;
        }
    };
    ```



