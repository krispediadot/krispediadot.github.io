---
layout: post
title: ë°±ì¤€ 1707. ì´ë¶„ê·¸ë˜í”„
date: 2021-02-10 11:30:00 +09:00
modified: 
category: problem solving
tags: [ps, c++, bfs]
image: "/assets/img/problem_solving_logo.png"
cover: "../puzzle.jpg"
---

### ë¬¸ì œ ë§í¬
[https://www.acmicpc.net/problem/1707](https://www.acmicpc.net/problem/1707)

### ë‚˜ì˜ ìƒê°ì˜ íë¦„
ğŸ’¡ [1ì°¨ ì‹œë„ - ì‹¤íŒ¨] â‡¢ í‹€ë ¸ìŠµë‹ˆë‹¤<br>
    union-findë¡œ ì‚¬ì´í´ ì°¾ê¸°<br>
ğŸ’¡ [2ì°¨ ì‹œë„ - ì‹¤íŒ¨] â‡¢ í‹€ë ¸ìŠµë‹ˆë‹¤<br>
    bfsë¡œ í™•ì¸<br>
    ì „ì—­ ë³€ìˆ˜ vector ì´ˆê¸°í™” ì•ˆí•¨<br>
ğŸ’¡ [3ì°¨ ì‹œë„ - ì„±ê³µ]<br>
    bfsë¡œ í™•ì¸<br>
    ì „ì—­ ë³€ìˆ˜ vector ì´ˆê¸°í™” í•´ì¤Œ<br>      

**ë¬¸ì œ í’€ì´ì— ì§‘ì¤‘í•˜ê¸°!!!***


### ë¬¸ì œì˜ ì£¼ìš” ë‚´ìš© ë° ì²˜ë¦¬ ë°©ì•ˆ
1. ì…ë ¥ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ì—ì§€ â†’ 2ì°¨ì› ë²¡í„° ìƒì„±
1. ì •ì ì„ ë‘ ê°œì˜ ì§‘í•©ìœ¼ë¡œ ë¶„í•  ì‹œ ê° ì§‘í•©ì— ì†í•œ ì •ì ë¼ë¦¬ ì¸ì ‘í•˜ì§€ ì•Šì•„ì•¼ í•¨ â†’ ë™ì¼í•œ ì§‘í•© ë‚´ ì¸ì ‘ ë…¸ë“œëŠ” ë‹¤ë¥¸ ìƒ‰ì„ ë„ì–´ì•¼ í•¨(WHITE/BLACK)
1. ê° ë…¸ë“œì˜ ìƒ‰ ì •ë³´ ì €ì¥ â†’ 1ì°¨ì› ë²¡í„° ì‚¬ìš©
1. ëª¨ë“  ë…¸ë“œ í™•ì¸ â†’ bfs

### ì½”ë“œ êµ¬í˜„ 
1. **2ì°¨ì› ë²¡í„° ìƒì„±**<br>
    ì—ì§€ ì •ë³´ë¥¼ ë‹´ì„ 2ì°¨ì› ë²¡í„°ì— ìƒì„±
    ```c++
    #include<vector>
    vector<vector<int>> edges;//ì „ì—­ë³€ìˆ˜
    ```
    ì—ì§€ ì…ë ¥ ë°›ê¸°<br>
    <mark>ì—¬ê¸°ì„œ ì£¼ì˜í•  ì ì€ 2ì°¨ì› ë²¡í„°ì´ë¯€ë¡œ ë¹ˆ ë²¡í„° ì´ˆê¸°í™” í•´ì¤˜ì•¼í•¨</mark><br>
    ê·¸ë¦¬ê³  ì´í›„ bfsì—ì„œ ë…¸ë“œì— ì—°ê²°ëœ ëª¨ë“  ì—ì§€ë¥¼ íŒŒì•…í•˜ëŠ”ë° ìš©ì´í•˜ë„ë¡ ì„œë¡œì˜ ë…¸ë“œì— í•´ë‹¹í•˜ëŠ” ë²¡í„°ì— ë„£ì–´ì¤˜ì•¼í•¨<br>
    
    ```c++
    //2ì°¨ì› ë²¡í„°ì´ë¯€ë¡œ ë¹ˆ ë²¡í„° ì´ˆê¸°í™”
    for (int i = 0; i <= v; i++) {
        vector<int> sub;
        edges.push_back(sub);
    }
    while (e--) {
        int v1, v2; cin >> v1 >> v2;
        //ì„œë¡œì˜ ë…¸ë“œì— í•´ë‹¹í•˜ëŠ” ë²¡í„°ì— ë„£ì–´ì¤˜ì•¼í•¨
        edges[v1].push_back(v2);
        edges[v2].push_back(v1);
    }
    ```
1. **ë™ì¼í•œ ì§‘í•© ë‚´ ì¸ì ‘ ë…¸ë“œëŠ” ë‹¤ë¥¸ ìƒ‰ì„ ë„ì–´ì•¼ í•¨(WHITE/BLACK)**<br>
    ```c++
    #define DEFAULT 0
    #define WHITE 1
    #define BLACK 2
    ```
1. **1ì°¨ì› ë²¡í„° ì‚¬ìš©**<br>  
    vector ì„ ì–¸
    ```c++
    #include <vector>
    vector<int> vColors; //ì „ì—­ë³€ìˆ˜
    ```
    ì´ˆê¸°í™”
    ```c++
    for (int i = 0; i < edges.size(); i++) vColors.push_back(DEFAULT);
    ```
1. **bfs**<br>
    ê° ë…¸ë“œë¥¼ ì‚´í´ë³´ë©° ê¸°ë³¸ ìƒ‰ìƒì´ë¼ë©´ bfs ì‹œì‘í•  ê²ƒ
    ```c++
    for (int i = 1; i < edges.size(); i++){
        if (vColors[i] == DEFAULT) 
            possible = bfs(i);
        if (!possible) break;
    }
    ```
    bfsì—ì„œëŠ” íƒ€ê²Ÿ ë…¸ë“œë¥¼ ì‹œì‘ìœ¼ë¡œ<br>
    ì´ì „ ë…¸ë“œê°€ WHITE ì´ë©´ ë‹¤ìŒ ë…¸ë“œëŠ” BLACK<br>
    ì´ì „ ë…¸ë“œê°€ BLACK ì´ë©´ ë‹¤ìŒ ë…¸ë“œëŠ” WHITE<br>
    ë¡œ ìƒ‰ìƒì„ ì¹ í•˜ëŠ” ì—­í• ì„ í•¨
    ```c++
    #include <queue>
    bool bfs(int target) {
        queue<int> q;
        vColors[target] = WHITE;
        q.push(target);
        while (!q.empty()) {
            auto target = q.front();
            q.pop();

            int nextColor = vColors[target] == WHITE ? BLACK : WHITE;
            for (auto next : edges[target]) {
                if (vColors[next] != DEFAULT) {
                    if (vColors[next] != nextColor) return false;
                    continue;
                }
                vColors[next] = nextColor;
                q.push(next);
            }
        }
        return true;
    }
    ```

### ì „ì²´ ì½”ë“œ
```c++
#include <iostream>
#include <vector>
#include <queue>
#define DEFAULT 0
#define WHITE 1
#define BLACK 2

using namespace std;

vector<vector<int>> edges;
vector<int> vColors;

bool bfs(int target) {
    queue<int> q;
    vColors[target] = WHITE;
    q.push(target);
    while (!q.empty()) {
        auto target = q.front();
        q.pop();

        int nextColor = vColors[target] == WHITE ? BLACK : WHITE;
        for (auto next : edges[target]) {
            if (vColors[next] != DEFAULT) {
                if (vColors[next] != nextColor) return false;
                continue;
            }
            vColors[next] = nextColor;
            q.push(next);
        }
    }
    return true;
}
void solution() {
    bool possible = true;
    for (int i = 0; i < edges.size(); i++) vColors.push_back(DEFAULT);
    
    for (int i = 1; i < edges.size(); i++){
        if (vColors[i] == DEFAULT) 
            possible = bfs(i);
        if (!possible) break;
    }
    if (possible) cout << "YES\n";
    else cout << "NO\n";
}
int main() {
    ios_base::sync_with_stdio(false);
    cin.tie(NULL);

    int nTest; cin >> nTest;
    while (nTest--) {
        edges.clear();
        vColors.clear();
        int v,e; cin >> v >> e;
        for (int i = 0; i <= v; i++) {
            vector<int> sub;
            edges.push_back(sub);
        }
        while (e--) {
            int v1, v2; cin >> v1 >> v2;
            edges[v1].push_back(v2);
            edges[v2].push_back(v1);
        }
        solution();
    }
}
```
