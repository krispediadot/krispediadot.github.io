---
layout: post
title: ë°±ì¤€ 15658. ì—°ì‚°ì ë¼ì›Œë„£ê¸° (2)
date: 2021-02-09 14:48:00 +09:00
modified: 
category: problem solving
tags: [ps, c++, string, recursion]
image: "/assets/img/avatar_code.png"
cover: "../puzzle.jpg"
---

### ë¬¸ì œ ë§í¬
[https://www.acmicpc.net/problem/15658](https://www.acmicpc.net/problem/15658)

### ë‚˜ì˜ ìƒê°ì˜ íë¦„
ğŸ’¡ [1ì°¨ ì‹œë„ - ì„±ê³µ]<br>
    recursionìœ¼ë¡œ ëª¨ë“  ê²½ìš° ì‚´í´ë³´ê¸°

**ë¬¸ì œì—ì„œ ì œì‹œí•˜ëŠ” ì¡°ê±´ì„ ì˜ ì½ì„ ê²ƒ!!!***


### ë¬¸ì œì˜ ì£¼ìš” ë‚´ìš© ë° ì²˜ë¦¬ ë°©ì•ˆ
1. ìµœëŒ€/ìµœì†Œ ê²°ê³¼ê°’ -10ì–µ ~ 10ì–µ â†’ #define MAX MIN ì„ ì–¸
1. ì…ë ¥ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ìˆ˜ â†’ vectorì— ì…ë ¥ ìˆ˜ ì €ì¥
1. ì—°ì‚°ìì˜ ê°œìˆ˜ â†’ vector<**pair<ê°œìˆ˜, ì—°ì‚°ì ì´ë¦„>**>
1. ì—°ì‚°ìì˜ ìš°ì„ ìˆœìœ„ëŠ” ë¬´ì‹œ â†’ ì—°ì‚°ìì˜ ìˆœì„œëŒ€ë¡œ ê³„ì‚°
1. ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ ì‚´í”¼ê¸° â†’ recursion


### ì½”ë“œ êµ¬í˜„ 
1. **#define MAX MIN ì„ ì–¸**<br>
    ìµœì¢… ê²°ê³¼ì˜ maxResì™€ minResì˜ ì´ˆê¸°í™”ë¡œ ì‚¬ìš©ë  ê²ƒì´ë¯€ë¡œ 
    ```c++
    #define MAX 1000000000
    #define MIN -1000000000
    ```
    ìµœì¢… ê²°ê³¼ ì´ˆê¸°í™”
    ```c++
    int maxRes = MIN, minRes = MAX; // ì „ì—­ë³€ìˆ˜
    ```
1. **vectorì— ì…ë ¥ ìˆ˜ ì €ì¥**<br>
    vector ì„ ì–¸
    ```c++
    #include <vector>
    vector<int> numbers; // ì „ì—­ë³€ìˆ˜
    ```
    ì…ë ¥ ë°›ê¸°
    ```c++
    for (int i = 0; i < n; i++) {
        int num; cin >> num;
        numbers.push_back(num);
    }
    ```
1. **vector<pair<ê°œìˆ˜, ì—°ì‚°ì ì´ë¦„>>**<br>  
    vector ì„ ì–¸ ë° ì´ˆê¸°í™”
    ```c++
    vector<pair<int, char>> opCount;
    opCount.push_back(make_pair(0,'+'));
    opCount.push_back(make_pair(0,'-'));
    opCount.push_back(make_pair(0,'*'));
    opCount.push_back(make_pair(0,'/'));
    ```
    ì…ë ¥ ë°›ê¸°
    ```c++
    for (int i = 0; i < 4; i++) {
        cin >> opCount[i].first;
    }
    ```
1. **recursion**
    ë§Œë“¤ì–´ì§„ ì—°ì‚°ìë°°ì—´ì€ ì¶”ê°€/ì œê±° í¸ì˜ë¥¼ ìœ„í•´ stringìœ¼ë¥´ í¬í˜„í•œë‹¤.<br>
    ```c++
    void solution(vector<pair<int, char>> opCount, int count, string op) {
        // ì¤‘ë‹¨ ì¡°ê±´: ì „ì²´ ìˆ«ì ê°œìˆ˜-1 ê°œì˜ ì—°ì‚°ìê°€ ì„ íƒë˜ë©´
        if (count == n-1) {
            int res = calc(op);
            if (res > maxRes) maxRes = res;
            if (res < minRes) minRes = res;
            return;
        }
        // ì•„ë‹ˆë©´ 4ê°œ ì—°ì‚°ì ê°ê° í™•ì¸
        for (int i = 0; i < 4; i++) {
            auto target = opCount[i];
            if (target.first == 0) continue;
            opCount[i].first--;
            solution(opCount, count+1, op+target.second);
            opCount[i].first++;
        }
    }
    ```
1. **ì—°ì‚°ìì˜ ìˆœì„œëŒ€ë¡œ ê³„ì‚°**<br>  
    ë¬¸ì œì—ì„œ ì—°ì‚°ìì˜ ìš°ì„ ìˆœìœ„ë¥¼ ë¬´ì‹œí•œë‹¤ëŠ” ì¡°ê±´ì´ ìˆì—ˆìœ¼ë¯€ë¡œ<br>
    recursionìœ¼ë¡œ ìƒì„±ëœ ì—°ì‚°ìë¥¼ ìˆœì„œëŒ€ë¡œ ê³„ì‚°í•˜ë©´ ëœë‹¤.<br>
    ```c++
    int calc(string op) {
        int res = numbers[0];
        int idx = 1;
        for (auto each : op) {
            if (each == '+') res += numbers[idx++];
            else if (each == '-') res -= numbers[idx++];
            else if (each == '*') res *= numbers[idx++];
            else if (each == '/') res /= numbers[idx++];
        }

        return res;
    }
    ```

### ì „ì²´ ì½”ë“œ
```c++
#include <iostream>
#include <vector>
#define MAX 1000000000
#define MIN -1000000000

using namespace std;

vector<int> numbers;
int n; 
int maxRes = MIN, minRes = MAX;

int calc(string op) {
    int res = numbers[0];
    int idx = 1;
    for (auto each : op) {
        if (each == '+') res += numbers[idx++];
        else if (each == '-') res -= numbers[idx++];
        else if (each == '*') res *= numbers[idx++];
        else if (each == '/') res /= numbers[idx++];
    }

    return res;
}
void solution(vector<pair<int, char>> opCount, int count, string op) {
    if (count == n-1) {
        int res = calc(op);
        if (res > maxRes) maxRes = res;
        if (res < minRes) minRes = res;
        return;
    }
    for (int i = 0; i < 4; i++) {
        auto target = opCount[i];
        if (target.first == 0) continue;
        opCount[i].first--;
        solution(opCount, count+1, op+target.second);
        opCount[i].first++;
    }
}
int main() {
    ios_base::sync_with_stdio(false);
	cin.tie(NULL);

    cin >> n;
    for (int i = 0; i < n; i++) {
        int num; cin >> num;
        numbers.push_back(num);
    }
    vector<pair<int, char>> opCount;
    opCount.push_back(make_pair(0,'+'));
    opCount.push_back(make_pair(0,'-'));
    opCount.push_back(make_pair(0,'*'));
    opCount.push_back(make_pair(0,'/'));
    for (int i = 0; i < 4; i++) {
        cin >> opCount[i].first;
    }
    solution(opCount, 0, "");

    cout << maxRes << "\n";
    cout << minRes;
}
```
