---
layout: post
title: ë°±ì¤€ 10451. ìˆœì—´ ì‚¬ì´í´
date: 2021-02-07 21:58:47 +09:00
modified: 
category: algorithm
tags: [ps, c++]
image: "/assets/img/avatar_code.png"
cover: "../puzzle.jpg"
---

**Index**
1. [ë¬¸ì œ ë§í¬](#ë¬¸ì œ-ë§í¬)
1. [ë‚˜ì˜ ìƒê°ì˜ íë¦„](#ë‚˜ì˜-ìƒê°ì˜-íë¦„)
1. [ë¬¸ì œì˜ ì£¼ìš” ë‚´ìš© ë° ì²˜ë¦¬ ë°©ì•ˆ](#ë¬¸ì œì˜-ì£¼ìš”-ë‚´ìš©-ë°-ì²˜ë¦¬-ë°©ì•ˆ)
1. [ì½”ë“œ êµ¬í˜„](#ì½”ë“œ-êµ¬í˜„)
1. [ì „ì²´ ì½”ë“œ](#ì „ì²´-ì½”ë“œ)

### ë¬¸ì œ ë§í¬
[https://www.acmicpc.net/problem/10451](https://www.acmicpc.net/problem/10451)

### ë‚˜ì˜ ìƒê°ì˜ íë¦„
ğŸ’¡ [1ì°¨ ì‹œë„]<br>
    ì‚¬ì´í´ ìƒì„±ì„ í™•ì¸í•˜ê¸° ìœ„í•´ union-find ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©<br>
ğŸ’¡ [2ì°¨ ì‹œë„ - ì„±ê³µ]<br> 
    dfs ishë¡œ ì—°ê²° í™•ì¸<br>


### ë¬¸ì œì˜ ì£¼ìš” ë‚´ìš© ë° ì²˜ë¦¬ ë°©ì•ˆ
1. ìˆœì—´ ë°°ì—´ì´ë‹¤ â†’ ë°°ì—´ë¡œ ì—ì§€ í‘œí˜„
1. ì‚¬ì´í´ í™•ì¸ â†’ ê°™ì€ ê·¸ë£¹ì— ì†í•´ìˆëŠ”ì§€ í™•ì¸
1. ì‚¬ì´í´ ìˆ˜ ì„¸ê¸° â†’ set ì‚¬ìš©

### ì½”ë“œ êµ¬í˜„ 
1. **ë°°ì—´ë¡œ ì—ì§€ í‘œí˜„**
    ```c++
    vector<int> pairs
    ```
1. **ê°™ì€ ê·¸ë£¹ì— ì†í•´ìˆëŠ”ì§€ í™•ì¸**<br>
    ì—ì§€ë¡œ ì—°ê²°ë˜ì–´ìˆëŠ” ê³³ì˜ ì—°ê²° ìƒí™©ì„ í™•ì¸í•´ê°€ë©° ê·¸ë£¹ í™•ì¸
    ```c++
    for(int target = 1; target<pairs.size(); target++){
        int idx = target;
        if(pairs[pairs[idx]] == pairs[idx]) continue;
        while(pairs[idx]!=target){
            int next = pairs[idx];
            pairs[idx] = target;
            idx = next;
        }
    }
    ```
1. **set ì‚¬ìš©**
    ```c++
    unordered_set<int> leader;
    for(int each: pairs){
        if(leader.find(each)==leader.end())
            leader.insert(each);
    }
    ```

### ì „ì²´ ì½”ë“œ
```c++
#include<iostream>
#include<vector>
#include<unordered_set>

using namespace std;

void solution(vector<int> pairs){
    for(int target = 1; target<pairs.size(); target++){
        int idx = target;
        if(pairs[pairs[idx]] == pairs[idx]) continue;
        while(pairs[idx]!=target){
            int next = pairs[idx];
            pairs[idx] = target;
            idx = next;
        }
    }
    unordered_set<int> leader;
    for(int each: pairs){
        if(leader.find(each)==leader.end())
            leader.insert(each);
    }
    cout<<leader.size()-1<<"\n";
}

int main(){
    int nTest; cin>>nTest;
    while(nTest--){
        int n; cin>>n;
        vector<int> pairs;
        pairs.push_back(0);
        for(int i=1; i<=n; i++){
            int num; cin>>num;
            pairs.push_back(num);
        }
        solution(pairs);
    }
}
```




